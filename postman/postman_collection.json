{
	"info": {
		"_postman_id": "rukun-app-api-collection",
		"name": "Rukun App API Collection",
		"description": "Comprehensive API collection for Rukun App - RT/RW Management System",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "rukun-app"
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Register",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"John Doe\",\n  \"email\": \"john.doe@example.com\",\n  \"password\": \"SecurePass123\",\n  \"phone\": \"081234567890\",\n  \"role\": \"WARGA\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"register"
							]
						},
						"description": "Register a new user account with validation"
					}
				},
				{
					"name": "Login",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"john.doe@example.com\",\n  \"password\": \"SecurePass123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"login"
							]
						},
						"description": "Authenticate user and receive JWT token"
					}
				},
				{
					"name": "Get Current User",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/auth/me",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"me"
							]
						},
						"description": "Get current authenticated user information"
					}
				},
				{
					"name": "Logout",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/auth/logout",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"logout"
							]
						},
						"description": "Logout and invalidate session"
					}
				},
				{
					"name": "Change Password",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"currentPassword\": \"SecurePass123\",\n  \"newPassword\": \"NewSecurePass456\",\n  \"confirmPassword\": \"NewSecurePass456\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/change-password",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"change-password"
							]
						},
						"description": "Change user password"
					}
				},
				{
					"name": "Forgot Password",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"john.doe@example.com\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/forgot-password",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"forgot-password"
							]
						},
						"description": "Request password reset"
					}
				},
				{
					"name": "Reset Password",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"token\": \"reset-token-here\",\n  \"newPassword\": \"NewSecurePass456\",\n  \"confirmPassword\": \"NewSecurePass456\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/reset-password",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"reset-password"
							]
						},
						"description": "Reset password with token"
					}
				}
			],
			"description": "Authentication endpoints for user registration, login, logout, and password management"
		},
		{
			"name": "Users",
			"item": [
				{
					"name": "Get All Users",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/users?page=1&limit=10&search=&role=&isActive=true&sortBy=createdAt&sortOrder=desc",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "10"
								},
								{
									"key": "search",
									"value": ""
								},
								{
									"key": "role",
									"value": ""
								},
								{
									"key": "isActive",
									"value": "true"
								},
								{
									"key": "sortBy",
									"value": "createdAt"
								},
								{
									"key": "sortOrder",
									"value": "desc"
								}
							]
						},
						"description": "Get paginated list of users with filtering and sorting"
					}
				},
				{
					"name": "Create User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Jane Smith\",\n  \"email\": \"jane.smith@example.com\",\n  \"password\": \"SecurePass123\",\n  \"phone\": \"081234567891\",\n  \"role\": \"STAFF\",\n  \"isActive\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/users",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users"
							]
						},
						"description": "Create a new user (requires admin permissions)"
					}
				},
				{
					"name": "Get User by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/users/{{user_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								"{{user_id}}"
							]
						},
						"description": "Get specific user details by ID"
					}
				},
				{
					"name": "Update User",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Jane Smith Updated\",\n  \"email\": \"jane.smith.updated@example.com\",\n  \"phone\": \"081234567892\",\n  \"role\": \"STAFF\",\n  \"isActive\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/users/{{user_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								"{{user_id}}"
							]
						},
						"description": "Update user information"
					}
				},
				{
					"name": "Delete User",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/users/{{user_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								"{{user_id}}"
							]
						},
						"description": "Delete user account"
					}
				},
				{
					"name": "Search Users",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/users/search?q=john&role=WARGA&isActive=true",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								"search"
							],
							"query": [
								{
									"key": "q",
									"value": "john"
								},
								{
									"key": "role",
									"value": "WARGA"
								},
								{
									"key": "isActive",
									"value": "true"
								}
							]
						},
						"description": "Search users with advanced filters"
					}
				},
				{
					"name": "Get User Statistics",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/users/statistics",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								"statistics"
							]
						},
						"description": "Get user statistics and analytics"
					}
				},
				{
					"name": "Bulk User Operations",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"operation\": \"activate\",\n  \"userIds\": [\"user-id-1\", \"user-id-2\", \"user-id-3\"]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/users/bulk",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								"bulk"
							]
						},
						"description": "Perform bulk operations on multiple users"
					}
				},
				{
					"name": "Get User Activities",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/users/{{user_id}}/activities?page=1&limit=20",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								"{{user_id}}",
								"activities"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "20"
								}
							]
						},
						"description": "Get user activity logs"
					}
				},
				{
					"name": "Get User Sessions",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/users/{{user_id}}/sessions",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								"{{user_id}}",
								"sessions"
							]
						},
						"description": "Get user active sessions"
					}
				},
				{
					"name": "Export Users Search",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"format\": \"excel\",\n  \"filters\": {\n    \"role\": \"WARGA\",\n    \"isActive\": true,\n    \"search\": \"\"\n  },\n  \"fields\": [\"name\", \"email\", \"phone\", \"role\", \"createdAt\"]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/users/search/export",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								"search",
								"export"
							]
						},
						"description": "Export users data based on search criteria"
					}
				}
			],
			"description": "User management endpoints for CRUD operations, search, and analytics"
		},
		{
			"name": "User Profiles",
			"item": [
				{
					"name": "Get User Profile",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/users/profile/{{user_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								"profile",
								"{{user_id}}"
							]
						},
						"description": "Get detailed user profile information"
					}
				},
				{
					"name": "Update User Profile",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"nik\": \"1234567890123456\",\n  \"address\": \"Jl. Contoh No. 123, RT 001/RW 002\",\n  \"birthDate\": \"1990-01-15\",\n  \"birthPlace\": \"Jakarta\",\n  \"job\": \"Software Engineer\",\n  \"education\": \"S1\",\n  \"maritalStatus\": \"MARRIED\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/users/profile/{{user_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								"profile",
								"{{user_id}}"
							]
						},
						"description": "Update user profile information"
					}
				}
			],
			"description": "User profile management endpoints"
		},
		{
			"name": "User Avatar",
			"item": [
				{
					"name": "Upload User Avatar",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "avatar",
									"type": "file",
									"src": []
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/users/avatar/{{user_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								"avatar",
								"{{user_id}}"
							]
						},
						"description": "Upload user avatar image"
					}
				},
				{
					"name": "Delete User Avatar",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/users/avatar/{{user_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								"avatar",
								"{{user_id}}"
							]
						},
						"description": "Delete user avatar"
					}
				}
			],
			"description": "User avatar management endpoints"
		},
		{
			"name": "RT Profile",
			"item": [
				{
					"name": "Get RT Profile",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/rt-profile",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"rt-profile"
							]
						},
						"description": "Get RT (Rukun Tetangga) profile information"
					}
				},
				{
					"name": "Update RT Profile",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"rtNumber\": \"001\",\n  \"rwNumber\": \"002\",\n  \"kelurahan\": \"Kelurahan Contoh\",\n  \"kecamatan\": \"Kecamatan Contoh\",\n  \"kabupaten\": \"Kabupaten Contoh\",\n  \"provinsi\": \"Provinsi Contoh\",\n  \"postalCode\": \"12345\",\n  \"description\": \"RT 001/RW 002 Kelurahan Contoh adalah komunitas yang aktif dalam kegiatan sosial dan kemasyarakatan.\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/rt-profile",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"rt-profile"
							]
						},
						"description": "Update RT profile information"
					}
				},
				{
					"name": "Upload RT Logo",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "logo",
									"type": "file",
									"src": []
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/rt-profile/logo",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"rt-profile",
								"logo"
							]
						},
						"description": "Upload RT logo image"
					}
				}
			],
			"description": "RT (Rukun Tetangga) profile management endpoints"
		},
		{
			"name": "Activity Logs",
			"item": [
				{
					"name": "Get Activity Logs",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/activity-logs?page=1&limit=20&userId=&action=&startDate=&endDate=",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"activity-logs"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "20"
								},
								{
									"key": "userId",
									"value": ""
								},
								{
									"key": "action",
									"value": ""
								},
								{
									"key": "startDate",
									"value": ""
								},
								{
									"key": "endDate",
									"value": ""
								}
							]
						},
						"description": "Get paginated activity logs with filters"
					}
				},
				{
					"name": "Create Activity Log",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"action\": \"CUSTOM_ACTION\",\n  \"description\": \"User performed a custom action\",\n  \"userId\": \"{{user_id}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/activity-logs",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"activity-logs"
							]
						},
						"description": "Create a new activity log entry"
					}
				},
				{
					"name": "Export Activity Logs",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"format\": \"excel\",\n  \"filters\": {\n    \"startDate\": \"2024-01-01\",\n    \"endDate\": \"2024-12-31\",\n    \"userId\": \"\",\n    \"action\": \"\"\n  },\n  \"fields\": [\"createdAt\", \"action\", \"description\", \"user.name\", \"ipAddress\"]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/activity-logs/export",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"activity-logs",
								"export"
							]
						},
						"description": "Export activity logs to Excel/CSV"
					}
				},
				{
					"name": "Cleanup Old Activity Logs",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"olderThanDays\": 90,\n  \"confirm\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/activity-logs/cleanup",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"activity-logs",
								"cleanup"
							]
						},
						"description": "Clean up old activity logs (admin only)"
					}
				}
			],
			"description": "Activity logging and audit trail endpoints"
		},
		{
			"name": "System Settings",
			"item": [
				{
					"name": "Get All Settings",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/system/settings",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"system",
								"settings"
							]
						},
						"description": "Get all system settings"
					}
				},
				{
					"name": "Update Setting by Key",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"value\": \"new setting value\",\n  \"description\": \"Updated setting description\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/system/settings/{{setting_key}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"system",
								"settings",
								"{{setting_key}}"
							]
						},
						"description": "Update specific system setting by key"
					}
				}
			],
			"description": "System configuration and settings management"
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{auth_token}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:3000",
			"type": "string"
		},
		{
			"key": "auth_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "user_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "setting_key",
			"value": "app_name",
			"type": "string"
		}
	]
}
